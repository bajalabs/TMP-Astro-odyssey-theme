---
import { Container } from '@components/odyssey-theme';
import Layout from './Page.astro';
import { slugify } from '../utils/slug.js';

const { content: { title, description, publishDate, featuredImage, industries, tags } } = Astro.props;

const seo = { title, description, publishDate, image: featuredImage };
---
<Layout seo={seo}>
  <div class="solution-header__container">
    <h1>{title}</h1>
    {publishDate && <p class="solution-layout__date"><time><em>{publishDate}</em></time></p>}
    {featuredImage && <img class="solution-layout__img" src={featuredImage} alt={title} />}
    {industries && industries.length > 0 && (
      <ul class="solution-industries__list">
        {industries.map(ind => (<li class="solution-industries__item">{ind}</li>))}
      </ul>
    )}
  </div>
  <Container narrow>
    <article id="solution-article">
      <slot />
    </article>
    {industries && industries.length > 0 && (
      <section class="related__section">
        <h2>Related Industries</h2>
        <ul class="related__list">
          {industries.map(ind => (
            <li><a href={`/industries/industry/${slugify(ind)}`}>{ind}</a></li>
          ))}
        </ul>
      </section>
    )}
  </Container>
</Layout>

<style>
  #solution-article { padding-bottom: 3rem; }
  .solution-header__container { max-width: var(--theme-blog-post-header-width); margin: 1rem auto; padding: var(--container-padding); }
  .solution-layout__img { margin: 0 auto 1rem auto; border-radius: var(--theme-shape-radius); }
  .solution-layout__date { margin-bottom: 1rem; opacity: 0.84; }
  .solution-industries__list { list-style: none; padding: 0; margin: 0.5rem 0 0; display: flex; flex-wrap: wrap; gap: .5rem; }
  .solution-industries__item { font-size: var(--font-size-sm); text-transform: uppercase; opacity: .8; }
  .related__section { margin-top: 2rem; }
  .related__list { list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; gap: .75rem; }
  .related__list a { text-decoration: none; font-size: var(--font-size-sm); }
</style>
